function ZetaRet_Prototypes(){var z="constructor",t="__constructor",e="_super__",r=Object.prototype,n=Object.defineProperty,x={enumerable:!1};r.rndstr=function(t){for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r="",n=0;n<t;n++)r+=e.charAt(Math.round(Math.random()*(e.length-1)));return r},n(r,"rndstr",x),r.super=function(e,r,n){if(n||(n=t),e.callee.prototype[n])return!0===r&&(r=e),e.callee.prototype[n].apply(this,r)},n(r,"super",x),r.superize=function(t,r,u,o){var s={};r||(r=this);for(var p in r)this[p]=r[p],"function"==typeof r[p]&&(s[p]=r[p],u&&n(s[p],"name",{value:p+(o?"#"+t.callee.name:"")}));return s[z]=t.callee,this["__"+s[z].name+e]=s,s},n(r,"superize",x),r.setSuper=function(e,r,u){return r||(r=this),u||(u=t),r.prototype[u]=e,n(r.prototype,u,x),e},n(r,"setSuper",x),r.setSubclass=function(e,r,u){return r||(r=this),u||(u=t),e.prototype[u]=r,n(e.prototype,u,x),r},n(r,"setSubclass",x),r.callSuper=function(e,r,n){if(n||(n=t),this[z].prototype[n]){var u=this.getNextSuper(e,n);return u?u.apply(this,r):null}},n(r,"callSuper",x),r.callSuper2=function(r,n,u){if(u||(u=t),this[z].prototype[u])return this["__"+this[z].prototype[u].name+e][r].apply(this,n)},n(r,"callSuper2",x),r.getNextSuper=function(t,r){for(var n=this.getSupers(null,r),u=n.length,o=this[t],s=0;s<u;s++){var p=this["__"+n[s].name+e][t];if(p&&p!=o)return p}return null},n(r,"getNextSuper",x),r.getSuper=function(r){if(r||(r=t),this[z].prototype[r])return this["__"+this[z].prototype[r].name+e]},n(r,"getSuper",x),r.getThis=function(){if(this[z])return this["__"+this[z].name+e]},n(r,"getThis",x),r.callProto=function(t,r,n){return this["__"+t.name+e][r].apply(this,n)},n(r,"callProto",x),r.callProto2=function(t,r,n){if(t[z])return this["__"+t[z].name+e][r].apply(this,n)},n(r,"callProto2",x),r.superList=function(e,r,u){r||(r=this),u||(u=t);var o=function(){for(var t=this,r=0;r<e.length;r++)e[r].apply(t,arguments[r]);return t.superize(arguments),t};return n(o,"name",{value:"ZetaRet_SuperList_"+Object.rndstr(13)}),r.setSuper(o,r,u),o.prototype[u+"_list"]=e,n(o,u+"_list",x),r},n(r,"superList",x),r.getSupers=function(e,r){r||(r=t),e||(e="function"==typeof this?this:this[z]);for(var n=[];e.prototype[r];)e=e.prototype[r],n.push(e);var u=e.prototype[r+"_list"];if(u)for(var o=0;o<u.length;o++)n.push(u[o]),n=n.concat(u[o].getSupers(u[o],r));return n},n(r,"getSupers",x),r.getSupers2=function(e,r){r||(r=t),e||(e="function"==typeof this?this:this[z]);for(var n=[];e.prototype[r];){e=e.prototype[r],n.push(e);break}var u=e.prototype[r+"_list"];if(u){n=[];for(var o=0;o<u.length;o++)n.push(u[o])}return n},n(r,"getSupers2",x),r.hasSuper=function(t,e,r){return-1!=this.getSupers(e,r).indexOf(t)},n(r,"hasSuper",x),r.is=function(t,e,r){return(e||("function"==typeof this?this:this[z]))==t||-1!=this.getSupers(e,r).indexOf(t)},n(r,"is",x)}
